(this.webpackJsonpMomentum=this.webpackJsonpMomentum||[]).push([[0],{233:function(e,t,a){e.exports=a(374)},317:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);a(234),a(260),a(262),a(263),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(282),a(283),a(285),a(286),a(287),a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(301),a(302);var n=a(0),c=a.n(n),r=a(56),o=a.n(r),l=a(28),i=a.n(l),s=a(14),d=a(89),m=a.n(d),u=a(126),E=a(7),v=a(86),f=a.n(v),b=a(143),p=a.n(b),h=a(142),O=a.n(h),N=(a(315),a(26)),_=a.n(N),w=a(68),j=a.n(w),g=a(128),y=a.n(g),T=a(22),S=a.n(T),C=a(44),k=a.n(C),P=a(127),A=a.n(P),I=a(29),B=a(25),L=a.n(B),R=a(1),D=a.n(R),U=(a(317),function(e){var t=e.className,a=e.color,n=e.font,r=e.bold,o=e.children;return c.a.createElement("span",{className:D()(["text",t,"text-".concat(a),"text-".concat(n)],{"text-bold":r})},o)}),V=function(e){var t=e.className,a=e.children,n=Object(I.a)(e,["className","children"]);return c.a.createElement(L.a,{className:"header-title-wrapper"},c.a.createElement(U,Object.assign({className:t},n),a))},x=a(20),H=function(e){var t={},a={days:86400,hours:3600,minutes:60,seconds:1},n=(+e-+new Date)/1e3;return t.time=n>0?"future":"past",n=Math.abs(n),Object.keys(a).forEach((function(e){t[e]=Math.floor(n/a[e]),n-=t[e]*a[e]})),t},W=function(e){var t=Object(n.useState)(H(e)),a=Object(E.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=setInterval((function(){r((function(t){return Object(x.a)(Object(x.a)({},t),H(e))}))}),1e3);return function(){clearInterval(t)}}),[e]),c},K=a(52),F=a.n(K);a(118);F.a.locale("ru");var M,q=function(e){return F()(e).format("LLL")},J=a(51),Y=[],z=[2,0,1,1,1,2],G=function(e,t){return Y[e]||(Y[e]=e%100>4&&e%100<20?2:z[Math.min(e%10,5)]),t[Y[e]]},Q={seconds:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"],minutes:["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"],hours:["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"],days:["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]},X=function(e,t){for(var a=["days","hours","minutes","seconds"],n="seconds",c=0;c<a.length;c+=1)if(e[a[c]]>0){n=a[c];break}return t?[e[n],G(e[n],Q[n])]:a.reduce((function(t,a){return Object(x.a)(Object(x.a)({},t),{},Object(J.a)({},a,[e[a],G(e[a],Q[a])]))}),{})},Z=(a(320),function(e){var t=e.id,a=e.className,n=e.name,r=e.date,o=e.theme,l=e.onPreviewCardClick,i=W(r),s=i.time,d=Object(I.a)(i,["time"]),m=X(d,!0),u=Object(E.a)(m,2),v=u[0],f=u[1];return c.a.createElement(L.a,{className:"preview-card-wrapper","data-to":"event",onClick:function(e){return l(e,t)}},c.a.createElement("div",{className:D()(["preview-card",a,"preview-card-".concat(o)])},c.a.createElement("div",{className:"card-event"},c.a.createElement(U,{color:"transparent",font:"body3"},"future"===s?"\u0414\u043e":"C"),c.a.createElement(U,{color:"white",font:"h3",bold:!0},n)),c.a.createElement("div",{className:"card-date"},c.a.createElement(U,{color:"transparent",font:"body3"},q(r)),c.a.createElement("div",{className:"date-inline"},c.a.createElement(U,{color:"white",font:"h3",bold:!0},v),c.a.createElement(U,{className:"date-inline-type",color:"transparent",font:"body3"},f)))))}),$=(a(321),function(e){var t=e.id,a=e.goForward,n=e.fetchedEvents,r=e.setEvent,o=function(e,t){a(e),r(t),i.a.send("VKWebAppTapticImpactOccurred",{style:"heavy"})};return c.a.createElement(_.a,{id:t,separator:!1},c.a.createElement(V,{className:"home-header",color:"softBlue",font:"h1",bold:!0},"\u041c\u043e\u0438 \u0421\u043e\u0431\u044b\u0442\u0438\u044f"),c.a.createElement(j.a,{title:"Events"},c.a.createElement(y.a,null,n&&n.map((function(e){var t=e.id,a=e.name,n=e.date,r=e.theme;return c.a.createElement(Z,{key:"event-".concat(t),id:t,name:a,date:n,theme:r,onPreviewCardClick:o})})))),c.a.createElement(k.a,{vertical:"bottom"},c.a.createElement(S.a,{className:"add-button",before:c.a.createElement(A.a,null),onClick:a,"data-to":"create_event_name"})))}),ee=a(15),te=a(129),ae=a.n(te),ne=a(132),ce=a.n(ne),re=a(130),oe=a.n(re),le=a(131),ie=a.n(le),se=(a(336),function(e){var t=e.className,a=e.osName,n=e.goBack,r=e.color,o=e.text;return c.a.createElement("div",{className:D()(["header-wrapper","header-wrapper-".concat(r),t])},n&&c.a.createElement(ce.a,{onClick:n,"data-to":"home",className:"header-button"},a===ee.b?c.a.createElement(oe.a,null):c.a.createElement(ie.a,null)),o&&c.a.createElement(U,{className:"header-text",font:"body3",bold:!0},o))}),de=(a(337),a(338),a(339),a(340),a(341),a(342),"h3"),me="body1",ue="body3",Ee=7,ve=10,fe=(a(343),{"blue-gradient":function(e){var t=e.days,a=e.hours,n=e.minutes,r=e.seconds,o=e.fontSize;return c.a.createElement("div",{className:D()(["event-card-date","event-card-date-inline"])},c.a.createElement("div",{className:D()(["event-card-time","event-card-time-inline"])},c.a.createElement(U,{color:"white",font:o},t[0]),c.a.createElement(U,{color:"transparent",font:"body3"},t[1])),c.a.createElement(U,{className:"colon-separator",color:"white",font:o},":"),c.a.createElement("div",{className:D()(["event-card-time","event-card-time-inline"])},c.a.createElement(U,{color:"white",font:o},a[0]),c.a.createElement(U,{color:"transparent",font:"body3"}," ",a[1])),c.a.createElement(U,{className:"colon-separator",color:"white",font:o},":"),c.a.createElement("div",{className:D()(["event-card-time","event-card-time-inline"])},c.a.createElement(U,{color:"white",font:o},[n[0]]),c.a.createElement(U,{color:"transparent",font:"body3"}," ",n[1])),c.a.createElement(U,{className:"colon-separator",color:"white",font:o},":"),c.a.createElement("div",{className:D()(["event-card-time","event-card-time-inline"])},c.a.createElement(U,{color:"white",font:o},r[0]),c.a.createElement(U,{color:"transparent",font:"body3"}," ",r[1])))},"red-gradient":function(e){var t=e.days,a=e.hours,n=e.minutes,r=e.seconds;return c.a.createElement("div",{className:D()(["event-card-date","event-card-date-center"])},c.a.createElement(U,{className:D()(["event-card-time","event-card-time-center"]),color:"white",font:"h1"},t[0],c.a.createElement("div",{className:"event-card-days-after","data-width":t[1].length},c.a.createElement(U,{color:"transparent",font:"body2","data-width":"3"},t[1]))),c.a.createElement(U,{className:D()(["event-card-time","event-card-time-center"]),color:"white",font:"h1"},a[0],c.a.createElement("div",{className:"event-card-hours-before","data-width":a[1].length},c.a.createElement(U,{color:"transparent",font:"body2"},a[1]))),c.a.createElement(U,{className:D()(["event-card-time","event-card-time-center"]),color:"white",font:"h1"},n[0],c.a.createElement("div",{className:"event-card-minutes-after","data-width":n[1].length},c.a.createElement(U,{color:"transparent",font:"body2"},n[1]))),c.a.createElement(U,{className:D()(["event-card-time","event-card-time-center"]),color:"white",font:"h1"},r[0],c.a.createElement("div",{className:"event-card-seconds-before","data-width":r[1].length},c.a.createElement(U,{color:"transparent",font:"body2"},r[1]))))},"violet-gradient":function(e){var t=e.days,a=e.hours,n=e.minutes,r=e.seconds;return c.a.createElement("div",{className:D()(["event-card-date","event-card-date-square"])},c.a.createElement("div",{className:D()(["event-card-time","event-card-time-square"])},c.a.createElement(U,{color:"white",font:"h1"},t[0]),c.a.createElement(U,{color:"transparent",font:"body3"},t[1])),c.a.createElement("div",{className:D()(["event-card-time","event-card-time-square"])},c.a.createElement(U,{color:"white",font:"h1"},a[0]),c.a.createElement(U,{color:"transparent",font:"body3"}," ",a[1])),c.a.createElement("div",{className:D()(["event-card-time","event-card-time-square"])},c.a.createElement(U,{color:"white",font:"h1"},n[0]),c.a.createElement(U,{color:"transparent",font:"body3"}," ",n[1])),c.a.createElement("div",{className:D()(["event-card-time","event-card-time-square"])},c.a.createElement(U,{color:"white",font:"h1"},r[0]),c.a.createElement(U,{color:"transparent",font:"body3"}," ",r[1])))}}),be=function(e){var t=e.theme,a=Object(I.a)(e,["theme"]);return Object(n.createElement)(fe[t],a)},pe=function(e){var t=e.name,a=e.date,n=e.theme,r=W(a),o=r.time,l=Object(I.a)(r,["time"]),i=X(l),s=function(e){var t=Object.keys(e).reduce((function(t,a){return t+e[a]}),"").length;return t<=Ee?de:t>Ee&&t<ve?me:ue}(i);return c.a.createElement("div",{className:D()(["event-card-wrapper"])},c.a.createElement(U,{color:"white",font:"body2",bold:!0},"future"===o?"\u0414\u043e":"C",": ",t),c.a.createElement(U,{color:"transparent",font:"body3"},q(a)),c.a.createElement(be,Object.assign({theme:n,fontSize:s},i)))},he=(a(344),Object(ee.c)()),Oe=function(e){var t=e.id,a=e.goBack,n=e.eventId,r=e.goForward,o=Object(s.c)((function(e){return e.events.events.filter((function(e){return e.id===n}))})),l=Object(E.a)(o,1)[0];return c.a.createElement(_.a,{id:t,separator:!1,className:D()(["event-panel","event-panel-".concat(l.theme)])},c.a.createElement(se,{osName:he,goBack:a,color:"white"}),c.a.createElement(pe,l),c.a.createElement(k.a,{vertical:"bottom"},c.a.createElement(S.a,{className:"edit-button",before:c.a.createElement(ae.a,null),onClick:r,"data-to":"edit_event"})))},Ne=(a(345),Object(n.forwardRef)((function(e,t){var a=e.className,n=e.color,r=e.font,o=Object(I.a)(e,["className","color","font"]);return c.a.createElement("input",Object.assign({className:D()(["input",a,"input-".concat(n),"input-".concat(r)]),ref:t},o))}))),_e="NEW_EVENT:SET_NAME",we="NEW_EVENT:SET_DATE",je="NEW_EVENT:SET_THEME",ge="NEW_EVENT:CLEAR",ye=(a(346),0),Te=1,Se=2,Ce=3,ke="EVENTS:SET_EVENTS",Pe="EVENTS:SET_LOADING_STATE",Ae="EVENTS:ADD_EVENT",Ie="EVENTS:REMOVE_EVENT",Be="EVENTS:UPDATE_EVENT",Le=function(e){return{type:Pe,payload:{loadingState:e}}},Re=function(e){return function(t){t(Le(Te)),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Momentum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_TOKEN:"",REACT_APP_PUBLIC_URL:""}).REACT_APP_LOCAL_URL||"","/user/").concat(e,"/").concat("","/").concat(window.location.search)).then((function(e){return e.json()})).then((function(e){var a=e.events;t(function(e){return{type:ke,payload:{events:e}}}(a)),t(Le(Se))})).catch((function(e){console.log(e),t(Le(Ce))}))}},De=function(e,t){return function(a){a(function(e){return{type:Ae,payload:{event:e}}}(t)),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Momentum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_TOKEN:"",REACT_APP_PUBLIC_URL:""}).REACT_APP_LOCAL_URL||"","/user/").concat(e,"/").concat("","/add_event/").concat(window.location.search),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:t})})}},Ue=function(e,t){return function(a){a(function(e){return{type:Ie,payload:{eventId:e}}}(t)),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Momentum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_TOKEN:"",REACT_APP_PUBLIC_URL:""}).REACT_APP_LOCAL_URL||"","/user/").concat(e,"/").concat("","/delete_event/").concat(window.location.search),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:t})})}},Ve=function(e,t,a){return function(n){n(function(e,t){return{type:Be,payload:{eventId:e,changes:t}}}(t,a)),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Momentum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_TOKEN:"",REACT_APP_PUBLIC_URL:""}).REACT_APP_LOCAL_URL||"","/user/").concat(e,"/").concat("","/update_event/").concat(window.location.search),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(x.a)({eventId:t},a))})}},xe=Object(ee.c)(),He=function(e){var t=e.id,a=e.goForward,r=e.goBack,o=e.userId,l=e.event,i=e.isUpdater,d=Object(s.b)(),m=Object(n.useState)(l?l.name:""),u=Object(E.a)(m,2),v=u[0],f=u[1],b=Object(n.useRef)(null);return Object(n.useEffect)((function(){b.current.focus()}),[b]),c.a.createElement(_.a,{id:t,separator:!1},c.a.createElement(se,{osName:xe,goBack:r,color:"black"}),c.a.createElement(L.a,{className:D()(["select-event-name-wrapper"])},c.a.createElement(U,{className:"select-event-name-title",color:"black",font:"body3",bold:!0},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"),c.a.createElement(Ne,{className:"select-event-name-input",placeholder:"\u041d\u0430\u0437\u043e\u0432\u0438 \u041c\u0435\u043d\u044f",onChange:function(e){var t=e.target.value;return f(t)},value:v,font:"h3",color:"softBlue",ref:b}),c.a.createElement(S.a,{className:"select-event-name-button",onClick:function(e){var t=v||"\u041d\u0430\u0437\u043e\u0432\u0438 \u041c\u0435\u043d\u044f";i?(d(Ve(o,l.id,{name:t})),r()):(d(function(e){return{type:_e,payload:{name:e}}}(v)),a(e))},"data-to":"create_event_date"},"\u0413\u043e\u0442\u043e\u0432\u043e")))},We=a(133),Ke=a.n(We),Fe=a(134),Me=a.n(Fe),qe=(a(347),function(e){var t=e.className,a=e.children,n=e.isOpen;return c.a.createElement("div",{className:D()(["modal-wrapper",t,{hidden:!n}])},c.a.createElement("div",{className:"modal-content"},a))}),Je=a(135),Ye=Object(ee.c)(),ze=(M={},Object(J.a)(M,ee.b,"ios"),Object(J.a)(M,ee.a,"android"),M),Ge=ze[Ye]?ze[Ye]:"default",Qe={1:"\u044f\u043d\u0432\u0430\u0440\u044f",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044f",3:"\u043c\u0430\u0440\u0442\u0430",4:"\u0430\u043f\u0440\u0435\u043b\u044f",5:"\u043c\u0430\u044f",6:"\u0438\u044e\u043d\u044f",7:"\u0438\u044e\u043b\u044f",8:"\u0430\u0432\u0433\u0443\u0441\u0442\u0430",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044f",11:"\u043d\u043e\u044f\u0431\u0440\u044f",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044f"},Xe={date:{format:"DD",caption:"Day",step:1},month:{format:function(e){return Qe[e.getMonth()+1]},caption:"Mon",step:1},year:{format:"YYYY",caption:"Year",step:1}},Ze={hour:{format:"hh",caption:"Hour",step:1},minute:{format:"mm",caption:"Min",step:1}},$e=function(e){var t=e.exactTime,a=Object(I.a)(e,["exactTime"]);return c.a.createElement(Je,Object.assign({theme:Ge,isPopup:!1,showHeader:!1,showFooter:!1,dateConfig:t?Ze:Xe},a))};F.a.locale("ru");a(348);var et=Object(ee.c)(),tt=function(e){var t=e.id,a=e.goForward,r=e.goBack,o=e.userId,l=e.event,i=e.isUpdater,d=Object(s.b)(),m=Object(n.useState)(l?new Date(l.date):new Date),u=Object(E.a)(m,2),v=u[0],f=u[1],b=Object(n.useState)(!1),p=Object(E.a)(b,2),h=p[0],O=p[1],N=Object(n.useState)(!1),w=Object(E.a)(N,2),j=w[0],g=w[1];return c.a.createElement(_.a,{id:t,separator:!1},c.a.createElement(qe,{isOpen:j},c.a.createElement("div",{className:"select-event-date-modal"},c.a.createElement(U,{className:"title",color:"black",font:"body3",bold:!0},"\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"),h&&c.a.createElement($e,{value:h,onChange:function(e){return O(e)},exactTime:!0}),c.a.createElement(S.a,{className:"button",onClick:function(){g(!1)}},"\u0413\u043e\u0442\u043e\u0432\u043e"))),c.a.createElement(se,{osName:et,goBack:r,color:"black"}),c.a.createElement(L.a,{className:D()(["select-event-date-wrapper"])},c.a.createElement(U,{className:"select-event-date-title",color:"black",font:"body3",bold:!0},"\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"),c.a.createElement($e,{value:v,onChange:function(e){return f(e)}}),c.a.createElement("div",{className:"time-picker",onClick:function(){h||O(new Date(0)),g(!0)}},c.a.createElement(Ke.a,null),c.a.createElement(U,{className:"time-picker-text"},h?function(e){return F()(e).format("HH:mm")}(h):"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f"),h&&c.a.createElement(Me.a,{onClick:function(e){e.stopPropagation(),O(!1)}})),c.a.createElement(S.a,{className:"select-event-date-button",onClick:function(e){v.setSeconds(0),v.setMilliseconds(0),h?(v.setHours(h.getHours()),v.setMinutes(h.getMinutes())):(v.setHours(0),v.setMinutes(0)),i?(d(Ve(o,l.id,{date:v.getTime()})),r()):(d(function(e){return{type:we,payload:{date:e}}}(v.getTime())),a(e))},"data-to":"create_event_theme"},"\u0413\u043e\u0442\u043e\u0432\u043e")))},at=a(136),nt=a(137),ct=a.n(nt),rt=(a(357),function(e){var t=e.className,a=e.theme,n=e.selected;return c.a.createElement("div",{className:D()(["event-card-example",t,"event-card-example-".concat(a)]),"data-theme":a},n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"selected"}),c.a.createElement(ct.a,{fill:"white",className:"done-icon"})))}),ot=(a(358),Object(ee.c)()),lt=["red-gradient","blue-gradient","violet-gradient"],it=function(e){var t=e.id,a=e.goForward,r=e.goBack,o=e.clearHistory,l=e.userId,i=e.event,d=e.isUpdater,m=Object(s.b)(),u=Object(s.c)((function(e){return e.newEvent.newEvent})),v=Object(n.useState)(i?i.theme:"red-gradient"),f=Object(E.a)(v,2),b=f[0],p=f[1];return c.a.createElement(_.a,{id:t,separator:!1},c.a.createElement(se,{className:"select-event-theme-header",osName:ot,goBack:r,color:"black",text:"\u0422\u0435\u043c\u044b \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f"}),c.a.createElement(L.a,{className:D()(["select-event-theme-wrapper"])},c.a.createElement("div",{className:"example-cards-container",onClick:function(e){var t=e.target.dataset.theme;t&&p(t)}},lt.map((function(e){return c.a.createElement(rt,{key:e,theme:e,selected:b===e})}))),c.a.createElement(k.a,{vertical:"bottom"},c.a.createElement(S.a,{className:"select-event-theme-button",onClick:function(e){d?(m(Ve(l,i.id,{theme:b})),r()):(m(De(l,Object(x.a)(Object(x.a)({},u),{},{theme:b,id:Object(at.generate)()}))),m({type:ge}),a(e),o())},"data-to":"home"},"\u0413\u043e\u0442\u043e\u0432\u043e"))))},st=a(138),dt=a.n(st),mt=a(58),ut=a.n(mt),Et=a(141),vt=a.n(Et),ft=a(90),bt=a.n(ft),pt=a(139),ht=a.n(pt),Ot=a(140),Nt=a.n(Ot),_t=(a(359),Object(ee.c)()),wt=function(e){var t=e.id,a=e.goBack,n=e.eventId,r=e.goForward,o=e.userId,l=e.clearHistory,i=Object(s.b)(),d=Object(s.c)((function(e){return e.events.events.filter((function(e){return e.id===n}))})),m=Object(E.a)(d,1)[0];return c.a.createElement(_.a,{id:t,separator:!1},c.a.createElement(se,{className:"edit-event-header",osName:_t,goBack:a,color:"black",text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),c.a.createElement(L.a,{className:D()(["edit-event-wrapper"])},c.a.createElement(j.a,null,c.a.createElement(ut.a,{className:D()(["edit-cell","edit-name"]),expandable:!0,before:c.a.createElement(bt.a,{className:"edit-icon",fill:"white"}),onClick:r,"data-to":"update_event_name"},m?m.name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),c.a.createElement(ut.a,{className:D()(["edit-cell","edit-date"]),expandable:!0,before:c.a.createElement(ht.a,{className:"edit-icon",fill:"white"}),onClick:r,"data-to":"update_event_date"},q(m&&m.date)||"\u0414\u0430\u0442\u0430"),c.a.createElement(ut.a,{className:D()(["edit-cell","edit-notifications"]),before:c.a.createElement(Nt.a,{className:"edit-icon",fill:"white"}),asideContent:c.a.createElement(vt.a,{disabled:!0})},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),m&&m.theme&&c.a.createElement(ut.a,{className:D()(["edit-cell","edit-theme","theme-".concat(m.theme)]),expandable:!0,before:c.a.createElement(bt.a,{className:"edit-icon",fill:"white"}),onClick:r,"data-to":"update_event_theme"},"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435")),c.a.createElement(k.a,{vertical:"bottom"},c.a.createElement(S.a,{className:"edit-event-button",onClick:function(e){i(Ue(o,n)),r(e),l()},"data-to":"home"},c.a.createElement("div",{className:"button-container"},c.a.createElement(dt.a,null),c.a.createElement("p",{className:"button-text"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))))},jt=a(91),gt=(a(365),a(366),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.events})),a=t.events,r=t.loadingState,o=Object(n.useState)(c.a.createElement(O.a,{size:"large"})),l=Object(E.a)(o,2),d=l[0],v=l[1],b=function(e){var t=Object(n.useState)(e),a=Object(E.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)([e]),l=Object(E.a)(o,2),s=l[0],d=l[1];return{activePanel:c,history:s,goForward:function(t){var a=t.currentTarget.dataset.to,n=Object(jt.a)(s);n.push(a),c===e&&i.a.send("VKWebAppEnableSwipeBack"),d(n),r(a)},goBack:function(){var t=Object(jt.a)(s);t.pop();var a=t[t.length-1];a===e&&i.a.send("VKWebAppDisableSwipeBack"),d(t),r(a)},clearHistory:function(){d([e])}}}("home"),h=b.activePanel,N=b.history,_=b.goForward,w=b.goBack,j=b.clearHistory,g=Object(n.useState)(null),y=Object(E.a)(g,2),T=y[0],S=y[1],C=Object(n.useState)(null),k=Object(E.a)(C,2),P=k[0],A=k[1],I=Object(s.c)((function(e){return e.events.events.filter((function(e){return e.id===T}))})),B=Object(E.a)(I,1)[0];return Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.send("VKWebAppGetUserInfo");case 2:a=t.sent,n=a.id,A(n),e(Re(n));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(n.useEffect)((function(){r===Se&&v(null)}),[r]),c.a.createElement(p.a,{isWebView:!0},c.a.createElement(f.a,{activePanel:h,popout:d,onSwipeBack:w,history:N,header:!1},c.a.createElement($,{id:"home",fetchedEvents:a,goForward:_,setEvent:S}),c.a.createElement(Oe,{id:"event",goBack:w,goForward:_,eventId:T}),c.a.createElement(He,{id:"create_event_name",goForward:_,goBack:w}),c.a.createElement(tt,{id:"create_event_date",goForward:_,goBack:w}),c.a.createElement(it,{id:"create_event_theme",goForward:_,goBack:w,clearHistory:j,userId:P}),c.a.createElement(wt,{id:"edit_event",goForward:_,goBack:w,clearHistory:j,eventId:T,userId:P}),c.a.createElement(He,{id:"update_event_name",goForward:_,goBack:w,userId:P,event:B,isUpdater:!0}),c.a.createElement(tt,{id:"update_event_date",goForward:_,goBack:w,userId:P,event:B,isUpdater:!0}),c.a.createElement(it,{id:"update_event_theme",goForward:_,goBack:w,userId:P,event:B,isUpdater:!0})))}),yt=a(50),Tt=a(69),St={events:[],loadingState:ye},Ct=Object(Tt.a)((function(e,t){if(t){var a=t.payload;switch(t.type){case ke:e.events=a.events;break;case Ae:e.events.push(a.event);break;case Ie:e.events=e.events.filter((function(e){return e.id!==a.eventId}));break;case Be:e.events=e.events.map((function(e){return e.id!==a.eventId?e:Object(x.a)(Object(x.a)({},e),a.changes)}));break;case Pe:e.loadingState=a.loadingState}}}),St),kt={newEvent:{}},Pt=Object(Tt.a)((function(e,t){if(t){var a=t.payload;switch(t.type){case _e:e.newEvent.name=a.name;break;case we:e.newEvent.date=a.date;break;case je:e.newEvent.theme=a.theme;break;case ge:e.newEvent=kt}}}),kt),At=a(144),It=Object(yt.c)({events:Ct,newEvent:Pt});i.a.send("VKWebAppInit");var Bt=Object(yt.d)(It,Object(yt.a)(At.a));o.a.render(c.a.createElement(s.a,{store:Bt},c.a.createElement(gt,null)),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.729d2b62.chunk.js.map